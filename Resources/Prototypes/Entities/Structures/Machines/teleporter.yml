- type: entity
  id: BaseTeleporter
  parent: [ SmallConstructibleMachine, BaseMachine ]
  name: Abstract Teleporter
  description: Abstractly teleporting you since 2599.
  abstract: true
  components:
  - type: InteractionOutline
  - type: Physics
    bodyType: Static
    canCollide: false
  - type: Transform
    anchored: true
    noRot: true
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.45,-0.45,0.45,0.00"
        density: 200
        mask:
          - MachineMask
  - type: Sprite
    sprite: Structures/cargo_telepad.rsi
    drawdepth: HighFloorObjects
  - type: Damageable
    damageContainer: StructuralInorganic
    damageModifierSet: StructuralMetallicStrong
  - type: DeviceList
  - type: DeviceNetwork
    deviceNetId: Wired
    receiveFrequencyId: BasicDevice
  - type: DeviceLinkSink
    ports:
      - TeleportReceiver
  - type: PowerConsumer #set power draw in teleport component, add/remove when teleporter powers on/off. See EmitterSystem for example.
    voltage: High
  - type: NodeContainer
    examinable: true
    nodes:
      input:
        !type:CableDeviceNode
        nodeGroupID: HVPower
  - type: Appearance
  - type: CollideOnAnchor
  - type: NameIdentifier
    group: CargoTelepads
  - type: AnimationPlayer
  - type: PointLight
    radius: 1.5
    energy: 1.5
    color: "#ffffff"
  - type: LitOnPowered
  - type: Teleframe

- type: entity
  id: TeleporterScience
  parent: [BaseTeleporter, BaseTeleportBeaconStatic]
  name: experimental teleframe core
  description: The core of an advanced device that rips holes in reality for near-instanteous travel. With time and material its capabilities can be expanded. Safety not guaranteed.
  components:
  - type: Machine
    board: TeleporterScienceMachineCircuitboard
  - type: Teleframe
    chargeDuration: 5
    rechargeDuration: 20
    incidentChance: 0.15
    teleportBeginEffect: EffectGravityPulse
    teleportFinishEffect: EffectFlashTeleportFinish
  - type: Sprite
    sprite: Structures/teleframe.rsi
    drawdepth: HighFloorObjects
    layers:
    - state: offline
    - state: idle
      map: ["enum.TeleframeVisualState.On"]
      shader: unshaded
      visible: true
    - state: beam
      map: ["enum.TeleframeVisualState.Charging"]
      shader: unshaded
      visible: false
    - state: recharging
      map: ["enum.TeleframeVisualState.Recharging"]
      shader: unshaded
      visible: false

- type: entity
  id: TeleporterSyndicate
  parent: [BaseTeleporter, BaseTeleportBeaconStatic]
  name: cybersun TP-X covert teleframe core
  description: A modification of stolen Nanotrasen blueprints, used in covert infiltration. Often outfitted with advanced upgrades.
  components:
  - type: Teleframe
    teleportBeginEffect: EffectGravityPulse
    chargeDuration: 5
    rechargeDuration: 10
    incidentChance: 0.10
    incidentMultiplier: 0.50
    teleportScatterRange: 0.5
  - type: Sprite
    sprite: Structures/teleframe_syndicate.rsi
    drawdepth: HighFloorObjects
    layers:
    - state: offline
    - state: idle
      map: ["enum.TeleframeVisualState.On"]
      shader: unshaded
      visible: true
    - state: beam
      map: ["enum.TeleframeVisualState.Charging"]
      shader: unshaded
      visible: false
    - state: recharging
      map: ["enum.TeleframeVisualState.Recharging"]
      shader: unshaded
      visible: false

- type: entity
  id: TeleporterCC
  parent: [BaseTeleporter, BaseTeleportBeaconStatic]
  name: hyperframe core
  description: A precise tool for the uppermost echelons of Central Command, allowing for rapid deployment and extraction of critical assets. Unfathomably Expensive.
  components:
  - type: Teleframe
    chargeDuration: 0.1
    rechargeDuration: 0.5
    incidentChance: 0
    incidentMultiplier: 0
    teleportScatterRange: 0.25
    teleportRange: 0.45
    teleportToEffect: TeleportToEffectQuiet
    teleportFromEffect: TeleportFromEffectQuiet
  - type: Sprite
    sprite: Structures/teleframe.rsi
    drawdepth: HighFloorObjects
    layers:
    - state: offline
    - state: idle
      map: ["enum.TeleframeVisualState.On"]
      shader: unshaded
      visible: true
    - state: beam
      map: ["enum.TeleframeVisualState.Charging"]
      shader: unshaded
      visible: false
    - state: recharging
      map: ["enum.TeleframeVisualState.Recharging"]
      shader: unshaded
      visible: false
