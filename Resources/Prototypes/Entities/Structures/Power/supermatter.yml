- type: entity
  id: Supermatter
  parent: BaseStructure
  name: supermatter crystal
  description: Get away from the beam Gordon!
  save: false
  placement:
    mode: SnapgridCenter
  components:
  - type: Sprite
    sprite: Structures/Power/Generation/supermatter.rsi
    offset: 0, 0.25
    noRot: true
    layers:
    - state: sm
  - type: PointLight
    color: "#FFFF00"
    radius: 3
    energy: 2.4
  - type: AtmosExposed
  - type: SupermatterDelaminationCountdown
    length: 30
    tickDelay: 5
  - type: SupermatterEnergyArcShooter
    delayPerEnergy: 12
  - type: SupermatterEnergyCollide
    whitelist:
      tags:
      - EmitterBolt
    ourFixtureId: emitter
  - type: SupermatterEnergy
  - type: SupermatterEnergyDecay
    delay: 1
    energyDecay: -10
  - type: SupermatterGasEmitter
    ratios:
      Plasma: 1
      Oxygen: 1
    minRate: 10
    delay: 1.5
  - type: SupermatterGasReaction
    gasReactions:
      Noblium:
      - !type:PowerTransmission
        multiplier: 0.3
      - !type:ModifyWaste
        multiplier: -14
      - !type:HeatEnergyGain
        multiplier: -1
      Frezon:
      - !type:PowerTransmission
        multiplier: -3
      - !type:ModifyWaste
        multiplier: -9
      - !type:HeatEnergyGain
        multiplier: -1
      Nitrogen:
      - !type:ModifyWaste
        multiplier: -2.5
      - !type:HeatEnergyGain
        multiplier: -1
      Pluoxium:
      - !type:PowerTransmission
        multiplier: -0.5
      - !type:ModifyWaste
        multiplier: -1.5
      - !type:HeatEnergyGain
        multiplier: -1
      Oxygen:
      - !type:PowerTransmission
        multiplier: 1.15
      - !type:HeatEnergyGain
        multiplier: 1
      Ammonia:
      - !type:HeatEnergyGain
        multiplier: 0.5
      CarbonDioxide:
      - !type:ModifyWaste
        multiplier: 1
      - !type:HeatEnergyGain
        multiplier: 1
      - !type:EnergyRecoupling
      WaterVapor:
      - !type:PowerTransmission
        multiplier: -0.25
      - !type:ModifyWaste
        multiplier: -1.5
      - !type:HeatEnergyGain
        multiplier: 1
      Plasma:
      - !type:PowerTransmission
        multiplier: 0.4
      - !type:ModifyWaste
        multiplier: 14
      - !type:HeatEnergyGain
        multiplier: 1
      Tritium:
      - !type:PowerTransmission
        multiplier: 3
      - !type:ModifyWaste
        multiplier: 9
      - !type:HeatEnergyGain
        multiplier: 1
  - type: SupermatterIntegerity
  - type: SupermatterModifyIntegerityOnEnergy
    min: 5000
    integerityPerEnergy: -10
  - type: RadiationSource
    intensity: 1
    slope: 0.7
  - type: SupermatterRadiation
    intensityPower: 0.00053
  - type: SupermatterRadio
    integerityMessages:
      30: supermatter-radio-integerity-caution
      25: supermatter-radio-integerity-caution
      20: supermatter-radio-integerity-warning
      15: supermatter-radio-integerity-warning
      10: supermatter-radio-integerity-danger
      5: supermatter-radio-integerity-danger
      0: supermatter-radio-integerity-fucked
    countdownMessages:
      25: supermatter-radio-countdown
      20: supermatter-radio-countdown
      15: supermatter-radio-countdown
      10: supermatter-radio-countdown
      5: supermatter-radio-countdown
      4: supermatter-radio-countdown
      3: supermatter-radio-countdown
      2: supermatter-radio-countdown
      1: supermatter-radio-countdown
    channel: Engineering
  - type: SupermatterDelaminatable
    delaminations:
    - !type:SpawnDelamination
      count: 1
      prototypes:
      - Singularity
    - !type:SpawnDelamination
      requirements:
      - !type:EnergyRequirement
        min: 5000
      count: 1
      prototypes:
      - TeslaEnergyBall
    - !type:ExplosionDelamination
      type: Radioactive
      totalIntensity: 1000
      intensitySlope: 3
      maxIntensity: 75
  - type: EventHorizon
    radius: 0.3
    consumeTiles: false
    colliderFixtureId: EventHorizonCollider
    consumerFixtureId: EventHorizonConsumer
  - type: Fixtures
    fixtures:
      emitter:
        shape:
          !type:PhysShapeCircle
          radius: 0.6
        hard: false
        layer:
        - Opaque
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.45,-0.45,0.45,0.45"
        density: 60
        layer:
        - MidImpassable
        - LowImpassable
      EventHorizonCollider:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.25,-0.25,0.25,0.25"
        restitution: 0.8
        density: 99999
        mask:
        - Opaque
        layer:
        - GlassLayer
      EventHorizonConsumer:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.3,-0.3,0.3,0.3"
        hard: false
        mask:
        - Opaque
        layer:
        - GlassLayer
